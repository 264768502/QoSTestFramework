cmake_minimum_required(VERSION 2.8)
project(woogeen_conf_sample)
set(configuration "Release")
set(builddir "${CMAKE_CURRENT_SOURCE_DIR}/out")

set(WOOGEEN_CONF_SAMPLE_VERSION_MAJOR 0)
set(WOOGEEN_CONF_SAMPLE_VERSION_MINOR 1)
set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -fPIC -fno-exceptions -Wno-deprecated")

file(GLOB WOOGEEN_CONF_SAMPLE_SOURCES
  "${CMAKE_CURRENT_SOURCE_DIR}/conferencesample.cc"
  "${CMAKE_CURRENT_SOURCE_DIR}/conferencesampleobserver.cc"
  "${CMAKE_CURRENT_SOURCE_DIR}/conferencesampleforwardobserver.cc"
  "${CMAKE_CURRENT_SOURCE_DIR}/conferencesampleobserver.h"
  "${CMAKE_CURRENT_SOURCE_DIR}/conferencesampleforwardobserver.h"
  "${CMAKE_CURRENT_SOURCE_DIR}/fileframegenerator.cc"
  "${CMAKE_CURRENT_SOURCE_DIR}/fileframegenerator.h"
  "${CMAKE_CURRENT_SOURCE_DIR}/fileaudioframegenerator.cc"
  "${CMAKE_CURRENT_SOURCE_DIR}/fileaudioframegenerator.h"
  "${CMAKE_CURRENT_SOURCE_DIR}/encodedframegenerator.cc"
  "${CMAKE_CURRENT_SOURCE_DIR}/encodedframegenerator.h"
  "${CMAKE_CURRENT_SOURCE_DIR}/directvideodecoder.cc"
  "${CMAKE_CURRENT_SOURCE_DIR}/dfbvideorenderer.cc"
  "${CMAKE_CURRENT_SOURCE_DIR}/directvideodecoder.h"
  "${CMAKE_CURRENT_SOURCE_DIR}/dfbvideorenderer.h"
  "${CMAKE_CURRENT_SOURCE_DIR}/directvideoencoder.cc"
  "${CMAKE_CURRENT_SOURCE_DIR}/directvideoencoder.h"
  "${CMAKE_CURRENT_SOURCE_DIR}/basicserverConnector.cc"
  "${CMAKE_CURRENT_SOURCE_DIR}/basicserverConnector.h"
  "${CMAKE_CURRENT_SOURCE_DIR}/myVideoRenderer.cc"
  "${CMAKE_CURRENT_SOURCE_DIR}/myVideoRenderer.h"
)
add_executable(woogeen_conf_sample ${WOOGEEN_CONF_SAMPLE_SOURCES})

set_target_properties(woogeen_conf_sample PROPERTIES RUNTIME_OUTPUT_DIRECTORY "${builddir}")
set_target_properties(woogeen_conf_sample PROPERTIES PREFIX "")
set_target_properties(woogeen_conf_sample PROPERTIES RUNTIME_OUTPUT_NAME "woogeen_conf_sample")
set_target_properties(woogeen_conf_sample PROPERTIES SUFFIX "")
set_source_files_properties(${builddir}/woogeen_conf_sample PROPERTIES GENERATED "TRUE")

include_directories("${CMAKE_CURRENT_SOURCE_DIR}" "${CMAKE_CURRENT_SOURCE_DIR}/include/" "/usr/include/directfb/")

set_target_properties(woogeen_conf_sample PROPERTIES COMPILE_DEFINITIONS "WEBRTC_LINUX;USE_X11=1;USE_LIBPCI=1;USE_OPENSSL=1;USE_GLIB=1;USE_NSS_CERTS=1;USE_NSS_VERIFIER=1;DYNAMIC_ANNOTATIONS_ENABLED=1;WTF_USE_DYNAMIC_ANNOTATIONS=1;_DEBUG;_GLIBCXX_DEBUG=1;")
set_target_properties(woogeen_conf_sample PROPERTIES COMPILE_FLAGS "-std=gnu++11 -pthread")

target_link_libraries(woogeen_conf_sample
  "-Wl,--start-group"
  "${CMAKE_CURRENT_SOURCE_DIR}/libs/libwoogeen.a"
  "${CMAKE_CURRENT_SOURCE_DIR}/libs/libsioclient.a"
  "${CMAKE_CURRENT_SOURCE_DIR}/libs/libasiotoken.a"
  "${CMAKE_CURRENT_SOURCE_DIR}/libs/libboost_date_time.a"
  "${CMAKE_CURRENT_SOURCE_DIR}/libs/libboost_random.a"
  "${CMAKE_CURRENT_SOURCE_DIR}/libs/libboost_system.a"
  "-Wl,--end-group"
  "-lrt"
  "-lm"
  "-ldl"
  "-lX11"
  "-lXext"
  "-lXcomposite"
  "-lXrender"
  "-lXrandr"
  "-lXcursor"
  "-lXfixes"
  "-lXdamage"
  "-lssl"
  "-lcrypto"
  "-ldirectfb"
  "-lfusion"
  "-ldirect"
  "-lpthread")
